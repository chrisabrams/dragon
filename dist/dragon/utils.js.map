{"version":3,"sources":["../../src/dragon/utils.js"],"names":["Utils","uid","clone","o","t","JSON","parse","dispose","_this","options","disposed","indisposable","force","forEach","property","ignore","ignoreProperties","indexOf","log","_debug","console","apply","arguments","uniqueId","module","exports"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;AAEA,IAAIA,QAAQ,EAAZ;;AAEAA,MAAMC,GAAN,GAAY,EAAZ;;AAEAD,MAAME,KAAN,GAAc,UAASC,CAAT,EAAY;;AAExB,MAAG,OAAOA,CAAP,IAAY,QAAf,EAAyB;AACvB,QAAIC,IAAI,EAACD,GAAGA,CAAJ,EAAR;;AAEAA,QAAIE,KAAKC,KAAL,CAAW,yBAAeF,CAAf,CAAX,EAA8BD,CAAlC;AAED,GALD,MAOK;;AAEHA,QAAIE,KAAKC,KAAL,CAAW,yBAAeH,CAAf,CAAX,CAAJ;AAED;;AAED,SAAOA,CAAP;AAED,CAjBD;;AAmBAH,MAAMO,OAAN,GAAgB,UAASC,KAAT,EAA8B;AAAA,MAAdC,OAAc,yDAAJ,EAAI;;;AAE5C,MAAGD,MAAME,QAAN,IAAmBF,MAAMG,YAAN,IAAsBF,QAAQG,KAAR,KAAkB,IAA9D,EAAqE;;AAErE,sBAAYJ,KAAZ,EAAmBK,OAAnB,CAA4B,UAACC,QAAD,EAAc;;AAExC;;;;AAIA,QAAGL,QAAQM,MAAR,IAAkBN,QAAQO,gBAAR,CAAyBC,OAAzB,CAAiCH,QAAjC,IAA6C,CAAC,CAAnE,EAAsE;;AAEtE,QAAGN,SAASA,MAAMM,QAAN,CAAT,IAA4B,OAAON,MAAMM,QAAN,EAAgBP,OAAvB,IAAkC,UAAjE,EAA6E;;AAE3E;;;;AAIAC,YAAMM,QAAN,EAAgBP,OAAhB;;AAEA,aAAOC,MAAMM,QAAN,CAAP;AAED;AAEF,GApBD;;AAsBAN,QAAME,QAAN,GAAiB,IAAjB;;AAEA;AACA,wBAAcF,KAAd;AAED,CA/BD;;AAiCAR,MAAMkB,GAAN,GAAY,YAAW;;AAErB,MAAG,KAAKC,MAAR,EAAgBC,QAAQF,GAAR,CAAYG,KAAZ,CAAkBD,OAAlB,EAA2BE,SAA3B;AAEjB,CAJD;;AAMA;;;;;AAKAtB,MAAMuB,QAAN,GAAiB,UAACf,KAAD,EAAW;;AAE1B,SAAO,sBAAO,KAAP,CAAP;AAED,CAJD;;AAMAgB,OAAOC,OAAP,GAAiBzB,KAAjB","file":"utils.js","sourcesContent":["'use strict'\n\nvar Utils = {}\n\nUtils.uid = {}\n\nUtils.clone = function(o) {\n\n  if(typeof o == 'string') {\n    var t = {o: o}\n\n    o = JSON.parse(JSON.stringify(t)).o\n\n  }\n\n  else {\n\n    o = JSON.parse(JSON.stringify(o))\n\n  }\n\n  return o\n\n}\n\nUtils.dispose = function(_this, options = {}) {\n\n  if(_this.disposed || (_this.indisposable && options.force !== true)) return\n\n  Object.keys(_this).forEach( (property) => {\n\n    /*\n    Sometimes a property is passed in from a parent, and the parent doesn't want\n    to lose it just because the child disappeared.\n    */\n    if(options.ignore && options.ignoreProperties.indexOf(property) > -1) return\n\n    if(_this && _this[property] && typeof _this[property].dispose == 'function') {\n\n      /*_this[property].dispose(function() {\n        delete _this[property]\n      })*/\n\n      _this[property].dispose()\n\n      delete _this[property]\n\n    }\n\n  })\n\n  _this.disposed = true\n\n  // Winter is coming\n  Object.freeze(_this)\n\n}\n\nUtils.log = function() {\n\n  if(this._debug) console.log.apply(console, arguments)\n\n}\n\n/*\nDragon.Utils.uniqueId\nwhat if we use the new primitive type symbols as a uid\n*/\n\nUtils.uniqueId = (_this) => {\n\n  return Symbol('uid')\n\n}\n\nmodule.exports = Utils\n"]}